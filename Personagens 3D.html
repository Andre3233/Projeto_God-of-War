<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8"> <!-- Define o charset como UTF-8, permitindo caracteres especiais -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsividade da página em dispositivos móveis -->
    <title>Personagens 3D</title> <!-- Título da página exibido na aba do navegador -->
    <link rel="stylesheet" href="Estilo.css"> <!-- Link para o arquivo de estilo externo -->
    <link rel="shortcut icon" href="Logo.ico" type="image/x-icon"> <!-- Ícone da página na aba do navegador -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script> <!-- Biblioteca Three.js para gráficos 3D -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script> <!-- Controle de órbita para visualização 3D -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script> <!-- Carregador de modelos GLTF -->
    <style>
        /* Estilo do fundo da página */
        html, body {
            background-image: url('./Inicio-background.jpg'); /* Imagem de fundo */
            background-size: cover; /* Imagem de fundo cobre toda a tela */
            background-repeat: no-repeat; /* Não repetir a imagem */
            background-position: center; /* Centralizar a imagem */
            background-attachment: fixed; /* A imagem de fundo não rola */
            font-family: Arial, sans-serif; /* Fonte do site */
            height: 100%; /* A altura ocupa 100% da tela */
            margin: 0; /* Remove margens */
        }

        h1 {
            font-size: 60px; /* Tamanho da fonte do título */
            color: #fff; /* Cor do texto */
            text-align: center; /* Alinha o texto ao centro */
            margin-top: 20px; /* Espaçamento superior */
            text-shadow: 2px 2px 5px rgba(255, 0, 0, 0.6), 0 0 20px rgba(255, 0, 0, 0.4); /* Sombra do texto */
            font-family: 'Arial Black', sans-serif; /* Fonte do título */
            background: none; /* Sem fundo */
            padding: 0; /* Sem padding */
            width: auto; /* Largura automática */
            margin-left: auto; /* Centraliza horizontalmente */
            margin-right: auto; /* Centraliza horizontalmente */
            box-shadow: none; /* Remove qualquer sombra */
        }

        /* Estilo do container principal que contém os modelos 3D */
        .main-container {
            display: flex; /* Exibe os elementos filhos em linha */
            gap: 20px; /* Espaço entre os containers */
            justify-content: flex-start; /* Alinha à esquerda */
            align-items: flex-start; /* Alinha ao topo */
            position: absolute; /* Posição absoluta para se ajustar à tela */
            top: 150px; /* Posição a partir do topo */
            left: 20px; /* Posição a partir da esquerda */
        }

        .container {
            display: flex; /* Exibe os elementos filhos em coluna */
            flex-direction: column; /* Alinha os itens na vertical */
            justify-content: flex-start; /* Alinha os itens no topo */
            align-items: flex-start; /* Alinha os itens à esquerda */
            width: 300px; /* Largura do container */
            height: 400px; /* Altura do container */
            position: relative; /* Necessário para o posicionamento dos elementos internos */
        }

        /* Estilo de fundo do modelo 3D */
        .model-background {
            background-color: #808080; /* Cor de fundo cinza */
            width: 100%; /* Largura total */
            height: 100%; /* Altura total */
            border-radius: 10px; /* Bordas arredondadas */
            position: absolute; /* Posição absoluta */
        }

        /* Estilo do canvas para exibir o modelo 3D */
        .model-viewer {
            position: absolute; /* Posição absoluta dentro do container */
            width: 100%; /* Largura total */
            height: 100%; /* Altura total */
            border-radius: 10px; /* Bordas arredondadas */
            z-index: 2; /* Garante que o modelo 3D fique acima do fundo */
        }

        p {
            font: bold 20pt Arial; /* Fonte do texto */
            margin-top: 10px; /* Margem superior */
            color: white; /* Cor do texto */
            position: relative; /* Posição relativa */
            top: 395px; /* Posição de texto mais próximo do fundo */
        }

        /* Ajuste na posição do canvas do segundo modelo */
        .container:nth-child(2) .model-viewer {
             transform: translateY(50px); /* Move o canvas para baixo */
        }
    </style>
</head>
<body>
    <h1>Personagens 3D</h1> <!-- Título da página -->

    <!-- Contêiner do player de música -->
    <div class="audio-container" id="audio-container">
        ♪
        <div class="audio" id="audio-player">
            <audio controls>
                <source src="Musica de fundo V2.mp3" type="audio/mp3">
            </audio>
        </div>
    </div>
    
 <!--MENU-->
 <button id="menu-button">☰</button>
 <div id="menu">
     <ul>
         <li><a href="index.html">Inicio</a></li>
         <li><a href="God of War Ascension.html">God of War Ascension</a></li>
         <li><a href="God of War Chains of Olympus.html">God of War Chains of Olympus</a></li>
         <li><a href="God of war(PS2).html">God of War (PS2)</a></li>
         <li><a href="God of War Ghost of Sparta.html">God of War Ghost of Sparta</a></li>
         <li><a href="God of War 2.html">God of War 2</a></li>
         <li><a href="God of War 3.html">God of War 3</a></li>
         <li><a href="God of War (2018).html">God of War (2018)</a></li>
         <li><a href="God of War Ragnarok.html">God of War Ragnarok</a></li>
         <li><a href="Personagens 3D.html">Personagens 3D</a></li>
         <li><a href="Formulario.html">Formulario</a></li>
         <li><a href="Localização e Contactos.html">Localização e Contactos</a></li>
     </ul>
 </div>

    <!-- Contêiner para exibir os modelos 3D -->
    <div class="main-container">
        <div class="container">
            <div class="model-background"></div>
            <canvas class="model-viewer" id="model-viewer1"></canvas> <!-- Canvas para o modelo de Kratos -->
            <p>Kratos</p>
        </div>

        <div class="container">
            <div class="model-background"></div>
            <canvas class="model-viewer" id="model-viewer2"></canvas> <!-- Canvas para o modelo de Zeus -->
            <p>Zeus</p>
        </div>
    </div>

    <script>
        // Configuração da cena 3D para o primeiro modelo (Kratos)
        const scene1 = new THREE.Scene();
        const container1 = document.getElementById('model-viewer1'); /* Seleciona o canvas */
        const camera1 = new THREE.PerspectiveCamera(45, container1.clientWidth / container1.clientHeight, 0.1, 1000); /* Câmera com perspectiva */
        camera1.position.set(0, 1.5, 5); /* Posiciona a câmera */
        camera1.lookAt(0, 1.5, 0); /* A câmera olha para o modelo */
        const renderer1 = new THREE.WebGLRenderer({ canvas: container1, alpha: true }); /* Renderiza a cena em 3D */
        renderer1.setSize(container1.clientWidth, container1.clientHeight); /* Ajusta o tamanho do renderizador */
        const controls1 = new THREE.OrbitControls(camera1, renderer1.domElement); /* Habilita o controle de órbita */
        controls1.enableDamping = true; /* Ativa o amortecimento para controles suaves */
        controls1.maxPolarAngle = Math.PI / 2; /* Limita o ângulo de visão */
        controls1.minPolarAngle = Math.PI / 4; /* Limita o ângulo de visão */
        controls1.minDistance = 100; /* Distância mínima da câmera */
        controls1.maxDistance = 120; /* Distância máxima da câmera */
        const ambientLight1 = new THREE.AmbientLight(0x404040, 3); /* Luz ambiente suave */
        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 1); /* Luz direcional */
        scene1.add(ambientLight1, directionalLight1); /* Adiciona as luzes à cena */

        const loader1 = new THREE.GLTFLoader(); /* Carregador de modelos GLTF */
        loader1.load(
            'kratos_V1.glb', /* Caminho do modelo 3D de Kratos */
            function(gltf) {
                gltf.scene.position.set(0, -18, 0); /* Posiciona o modelo */
                gltf.scene.scale.set(1.2, 1.2, 1.2); /* Ajusta a escala */
                scene1.add(gltf.scene); /* Adiciona o modelo à cena */
            },
            undefined,
            function(error) {
                console.error('Erro ao carregar o modelo:', error); /* Exibe erro se o modelo não carregar */
            }
        );

        function animate1() {
            requestAnimationFrame(animate1); /* Requisição de animação */
            controls1.update(); /* Atualiza os controles */
            renderer1.render(scene1, camera1); /* Renderiza a cena */
        }
        animate1(); /* Inicia a animação */

        // Configuração da cena 3D para o segundo modelo (Zeus)
        const scene2 = new THREE.Scene();
        const container2 = document.getElementById('model-viewer2');
        const camera2 = new THREE.PerspectiveCamera(45, container2.clientWidth / container2.clientHeight, 0.1, 1000);
        camera2.position.set(0, 1.5, 5);
        camera2.lookAt(0, 1.5, 0);
        const renderer2 = new THREE.WebGLRenderer({ canvas: container2, alpha: true });
        renderer2.setSize(container2.clientWidth, container2.clientHeight);
        const controls2 = new THREE.OrbitControls(camera2, renderer2.domElement);
        controls2.enableDamping = true;
        controls2.maxPolarAngle = Math.PI / 2;
        controls2.minPolarAngle = Math.PI / 4;
        controls2.minDistance = 800;
        controls2.maxDistance = 820;
        const ambientLight2 = new THREE.AmbientLight(0x404040, 3);
        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 1);
        scene2.add(ambientLight2, directionalLight2);

        const loader2 = new THREE.GLTFLoader();
        loader2.load(
            'zeus_-_god_of_war_3.glb',
            function(gltf) {
                gltf.scene.position.set(0, -18, 0);
                gltf.scene.scale.set(1.2, 1.2, 1.2);
                scene2.add(gltf.scene);
                gltf.scene.rotation.y = Math.PI;
            },
            undefined,
            function(error) {
                console.error('Erro ao carregar o modelo:', error);
            }
        );

        function animate2() {
            requestAnimationFrame(animate2);
            controls2.update();
            renderer2.render(scene2, camera2);
        }
        animate2();

        // Função para abrir e fechar o menu
        const menuButton = document.getElementById('menu-button');
        const menu = document.getElementById('menu');

        menuButton.addEventListener('click', () => {
            if (menu.style.left === '0px') {
                menu.style.left = '-20%'; // Esconde o menu
            } else {
                menu.style.left = '0px'; // Mostra o menu
            }
        });

         //Musica
         const audioContainer = document.getElementById("audio-container");
        const audioPlayer = document.getElementById("audio-player");

        let isMouseDown = false; // Indica se o botão do mouse está pressionado
        let offsetX = 0, offsetY = 0; // Posição relativa do clique

        // Evento para iniciar o movimento com o botão direito
        audioContainer.addEventListener("mousedown", function (e) {
            if (e.button === 2) { // Verifica se é o botão direito (botão 2)
                isMouseDown = true;
                offsetX = e.clientX - audioContainer.getBoundingClientRect().left;
                offsetY = e.clientY - audioContainer.getBoundingClientRect().top;
                audioContainer.style.cursor = "grabbing"; // Muda o cursor para 'grabbing' enquanto arrasta
            }
        });

        // Evento para mover o contêiner
        document.addEventListener("mousemove", function (e) {
            if (isMouseDown) {
                // Calcula a nova posição do contêiner, garantindo que o contêiner siga o mouse
                let x = e.clientX - offsetX;
                let y = e.clientY - offsetY;

                // Define a nova posição
                audioContainer.style.left = `${x}px`;
                audioContainer.style.top = `${y}px`;
            }
        });

        // Evento para soltar o contêiner (apenas quando o botão direito for liberado)
        document.addEventListener("mouseup", function (e) {
            if (e.button === 2) { // Solta apenas se o botão direito for liberado
                isMouseDown = false;
                audioContainer.style.cursor = "grab"; // Retorna o cursor para 'grab'
            }
        });

        // Abrir ou fechar o player de música ao clicar com o botão esquerdo
        audioContainer.addEventListener("click", function (e) {
            if (e.button === 0) { // Verifica se é o botão esquerdo
                if (audioPlayer.style.opacity === "1") {
                    audioPlayer.style.opacity = "0"; // Esconde o player
                } else {
                    audioPlayer.style.opacity = "1"; // Mostra o player
                }
            }
        });

        // Impedir o menu de contexto padrão no clique direito
        audioContainer.addEventListener("contextmenu", function (e) {
            e.preventDefault(); // Previne o menu de contexto
        });
    </script>
</body>
</html>
